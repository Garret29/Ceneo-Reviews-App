<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.6/angular.min.js"></script>
    <script src="app.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
</head>
<body ng-app="ceneoReviewApp" ng-controller="controller">
<div class="jumbotron">
    <div class="text-center"><h1><a href="#">Ceneo Reviews App</a></h1></div>
</div>
<div class="container-fluid">
    <div class="col-xs-6">
        <label>Podaj kod produktu:</label>
        <input id="code" ng-model="code"><br>
        <hr>
        <button class="btn btn-default" ng-disabled="!loaded" ng-click="ETL()">Extract-Transform-Load</button>
        <hr>
        <button class="btn btn-default" ng-disabled="!loaded" ng-click="extract()">Extract</button>
        <button class="btn btn-default" ng-disabled="!extracted" ng-click="transform()">Transform</button>
        <button class="btn btn-default" ng-disabled="!transformed" ng-click="load()">Load</button>
    </div>
    <div class="col-xs-6">
        <h2>Product:</h2>
        <table class="table table-hover">
            <thead>
            <tr>
                <th>Typ</th>
                <th>Model</th>
                <th>Marka</th>
                <th>Dodatkowe informacje</th>
            </tr>
            </thead>
            <tbody>
            <tr>
                <td ng-bind="product.type"></td>
                <td ng-bind="product.model"></td>
                <td ng-bind="product.brand"></td>
                <td ng-bind="product.additionalInfo"></td>
            </tr>
            </tbody>
        </table>
    </div>
    <div class="row-sm-4" ng-show="transformed">
        <h2>Reviews:</h2>
        <ul>
            <li ng-repeat="review in product.reviews">
                <b>Autor:</b> {{review.author}} <b>Ocena:</b> {{review.rating}} <b>Pomocna:</b> {{review.upvotes}} <b>Niepomocna:</b>
                {{review.downvotes}} <br>
                {{review.summary}}<br>
                <span ng-hide="review.pros.length == 0 || review.pros==null">
                <b>Zalety:</b>
                <ul>
                    <li ng-repeat="pros in review.pros">{{pros}}</li>
                </ul><br>
                </span>

                <span ng-hide="review.cons==null || review.cons.length==0">
                <b>Wady:</b>
                <ul>
                    <li ng-repeat="cons in review.cons">{{cons}}</li>
                </ul><br>
                </span>
                <b>Podsumowanie:</b> {{review.recommendation}}
                <hr>
            </li>
        </ul>
    </div>
</div>

</body>
</html>